<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Supplier Management - Ruby Auto Parts</title>
  <script>
    // Check authentication
    if (sessionStorage.getItem('rubyAutoPartsLoggedIn') !== 'true') {
      window.location.href = 'login.html';
    }
    
    function logout() {
      sessionStorage.removeItem('rubyAutoPartsLoggedIn');
      sessionStorage.removeItem('rubyAutoPartsUser');
      window.location.href = 'login.html';
    }
  </script>
  <style>
    body { font-family: -apple-system,BlinkMacSystemFont,sans-serif; margin:2rem; background:#fff; color:#000; }
    form { margin-bottom:2rem; max-width:600px; display:none; }
    label { display:block; margin-top:1rem; font-weight:600; }
    input, button { width:100%; padding:0.6rem; margin-top:0.3rem; border-radius:4px; border:1px solid #999; }
    button { margin-top:1rem; background:#000; color:#fff; cursor:pointer; }
    table { border-collapse: collapse; width:100%; margin-top:1rem; display:none; }
    th, td { border:1px solid #ccc; padding:0.5rem; text-align:left; }
    #error { color:red; display:none; margin-top:0.5rem; }
  </style>
</head>
<body>
  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; padding-bottom: 1rem; border-bottom: 2px solid #eee;">
    <h1 style="margin: 0;">üè¢ Ruby Auto Parts - Supplier Management</h1>
    <div style="display: flex; align-items: center; gap: 1rem;">
      <span style="color: #666; font-size: 0.9rem;">Welcome, <strong id="currentUser">admin</strong></span>
      <button onclick="logout()" style="background-color: #e74c3c; color: #fff; border: 1px solid #e74c3c; padding: 0.5rem 1rem; font-size: 0.9rem; cursor: pointer; border-radius: 4px;">Logout</button>
    </div>
  </div>

  <div id="login">
    <label>Enter Password</label>
    <input type="password" id="passwordInput" placeholder="Password">
    <button id="loginBtn">Login</button>
    <p id="error">Wrong password</p>
  </div>

  <form id="supplierForm">
    <label>Name</label>
    <input type="text" id="supplierName" required>

    <label>Phone Number</label>
    <input type="text" id="supplierPhone" required>

    <label>Product Name</label>
    <input type="text" id="productName" required>

    <label>Quantity</label>
    <input type="number" id="quantity" required>

    <label>Invoice Number</label>
    <input type="text" id="invoice_number">

    <label>Cost per Unit</label>
    <input type="number" step="0.01" id="cost">

    <label>Date</label>
    <input type="date" id="supplyDate" required>

    <button type="submit">Add Supplier</button>
  </form>

  <table id="suppliersTable">
    <thead>
      <tr>
        <th>Name</th>
        <th>Phone</th>
        <th>Product</th>
        <th>Quantity</th>
        <th>Invoice Number</th>
        <th>Cost per Unit</th>
        <th>Date</th>
      </tr>
    </thead>
    <tbody id="suppliers-body"></tbody>
  </table>

  <script>
    // Set current user
    document.getElementById('currentUser').textContent = sessionStorage.getItem('rubyAutoPartsUser') || 'admin';
  </script>
  <script type="module" src="src/catrain.js"></script>
</body>
</html>